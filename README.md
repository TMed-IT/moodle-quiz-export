# Moodle Quiz Export

Moodleのクイズ結果をテーブル形式でクリップボードにコピーするChrome拡張機能です。

## 機能

- Moodleのクイズレビューページに浮動ボタンを追加
- クイズの問題、選択肢、正解、解説を一括でコピー
- TSV（タブ区切り）とHTML形式の両方でコピー可能
- ヘッダーあり/なしのコピー機能

## 使い方

1. Chrome拡張機能としてインストール
2. Moodleのクイズレビューページ（`/mod/quiz/review.php`）を開く
3. 画面右下に表示される青い浮動ボタンをクリック
4. クリック方法による動作の違い：
   - **左クリック**: ヘッダーなしでコピー
   - **右クリック**: ヘッダー付きでコピー

## コピーされるデータ形式

### TSV形式（ヘッダー付き）
```
問題    解答数    解説    選択肢a    選択肢b    選択肢c    ...
問題1    2        解説文   正解1      正解2      不正解1    ...
問題2    1        解説文   正解1      不正解1    不正解2    ...
```

### TSV形式（ヘッダーなし）
```
問題1    2        解説文   正解1      正解2      不正解1    ...
問題2    1        解説文   正解1      不正解1    不正解2    ...
```

### HTML形式
テーブル形式でコピーされ、スプレッドシートなどに貼り付けることができます。

## 注意事項

- Moodleのクイズレビューページ（`/mod/quiz/review.php`）でのみ動作します
- ページ内に問題ブロック（`div.que`）が存在する必要があります
- 選択肢はあいうえお順でソートされ、正解→不正解の順で表示されます
- フッターボタンが存在するページでのみ浮動ボタンが表示されます

## 技術仕様

- JavaScriptで実装
- Chrome拡張機能API（Manifest V3）を使用
- クリップボードAPIを使用して複数形式でのコピーをサポート
- XPathを使用してフッターボタンの位置を特定
